# Программа для составления списка покупок
Используется база данных в postgresql, название базы *products_db*
![Блок схема](schem.png)

_Комментарий: мне показалось что самая удобный интерфейс для этого функционала это телеграм бот, он спрашивает есть ли продукт, нажимаешь кнопочки, формируется список. Не все функции реализованы, _


### Таблицы в БД
- Категории
- Товары
- Список покупок
- Список товаров на неделю
- Купленные товары

### Функции:
- вывод категорий продуктов _(category_list)_
- вывод всех продуктов _(product_list)_
- вывод списка покупок на неделю _(shopping_list_week_view)_
- вывод текущего списка покупок _(shopping_list_view)_
- вывод списка купленных  _(purchased_product_list)_

* добавление (удаление, изменение) категории _(add_category)_
* добавление (удаление, изменение) товара _(add_product)_
* добавление, удадение, изменение товара в список товаров на неделю _(add_shopping_list_week, del_shopping_list_week, update_shopping_list_week)_
* добавление товара в купленные товары (сделать апдейт функций для списка на неделю??)
* формирование списка покупок (добавление еженедельного списка плюс предложение добавить что то) _(create_shopping_list)_
* очистка списка покупок _(clear_shopping_list)_
* чек ап недельного списка _(check_shopping_list_week)_
* чек ап полного списка _(check_products)_
* чек ап по категориям _(check_category)_
* _чек ап для конкретного магазина
* перенос списка покупок в купленные товары _(shopping_list_done)_


### ещё сделать
- добавить для товара параметр shops, в котором будет список магазинов, чтобы можно было делать чекап для конкретного магазина
- для внесеня товара в список покупок сначала искать в Product по наименованию
- параметры для формирования DNS брать из файла, сделать БД на выбор
- при добавлении товаров, уже существующих в списках, менять количество, а не создавать новые
- корректировка списка товаров на неделю по результатам анализа купленных товаров по истечение какого-то срока
- добавить возможность вносить товары в список покупок "на будущее", для этого добавить еще таблицу в бд
- придумать когда лучше очищать список покупок, пока это делается в начале некоторых функций, нужно чтотбы можно было создавать общий список по нескольким критериям
- в функции del_shopping_list_week добавить предупреждение в случае, если id для удаления был введен неверно

### Вопросы
* удаления продуктов и категорий быть не может, потому что полетят связи
* если при заполнении таблиц (функция _db_filling_) явно задать id, то в дальнейшем при создании экземпляра класса ему будет присваиваться уже существующий id, почему так?
* унифицировать функции crud для списков товаров имеет смысл, если они имеют отличающиеся поля(в купленных товарах есть поле дата)